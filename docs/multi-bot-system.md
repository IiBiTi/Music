# دليل نظام البوتات المتعددة

## مقدمة

نظام البوتات المتعددة هو ميزة أساسية في مشروع بوت الميوزك، حيث يتيح للمستخدمين تشغيل وإدارة عدة بوتات في نفس الوقت من خلال واجهة موحدة. يوفر هذا النظام مرونة كبيرة في إدارة البوتات وتخصيصها حسب احتياجات المستخدم.

## هيكل النظام

يتكون نظام البوتات المتعددة من ثلاثة مكونات رئيسية:

1. **فئة MusicBot**: تمثل بوت ديسكورد فردي مع وظائف الميوزك.
2. **فئة BotManager**: تدير مجموعة من البوتات وتوفر واجهة للتحكم بها.
3. **فئة MultiBotManager**: توفر واجهة عالية المستوى للتعامل مع البوتات وحفظها وتحميلها.

## كيفية عمل النظام

### إنشاء وإدارة البوتات

1. **إنشاء بوت جديد**:
   - يتم إنشاء بوت جديد باستخدام توكن ديسكورد وإعدادات اختيارية.
   - يتم تحميل الأوامر والأحداث للبوت.
   - يتم تشغيل البوت وإضافته إلى قائمة البوتات المدارة.

2. **إدارة البوتات**:
   - يمكن الحصول على بوت معين باستخدام التوكن.
   - يمكن الحصول على قائمة جميع البوتات النشطة.
   - يمكن إزالة بوت من القائمة وإيقافه.

3. **البوت النشط**:
   - يتم تعيين بوت واحد كبوت نشط للإدارة.
   - يمكن تبديل البوت النشط في أي وقت.
   - الأوامر التي لا تحدد بوت معين تعمل على البوت النشط.

### حفظ وتحميل البوتات

- يتم حفظ معلومات البوتات (التوكن والإعدادات) في ملف `config/bots.json`.
- عند بدء تشغيل النظام، يتم تحميل البوتات المحفوظة تلقائيًا.
- يتم تحديث ملف التكوين تلقائيًا عند إضافة أو إزالة بوت أو تغيير الإعدادات.

### تخصيص البوتات

يمكن تخصيص كل بوت بشكل مستقل:

1. **تغيير الاسم والصورة**:
   - يمكن تغيير اسم البوت باستخدام `changeBotUsername`.
   - يمكن تغيير صورة البوت باستخدام `changeBotAvatar`.

2. **تغيير الإعدادات**:
   - يمكن تغيير البادئة وإعدادات أخرى باستخدام `updateBotSettings`.
   - يمكن تفعيل/تعطيل نظام الأزرار والإمبيد.

3. **تغيير المنصة**:
   - يمكن تغيير منصة التشغيل (يوتيوب، ساوندكلاود، سبوتيفاي) باستخدام `switchPlatform`.

### عمليات متعددة البوتات

يمكن تنفيذ عمليات على جميع البوتات في نفس الوقت:

1. **تغيير إعدادات جميع البوتات**:
   - يمكن تحديث إعدادات جميع البوتات دفعة واحدة.
   - يمكن تغيير اسم أو صورة جميع البوتات.
   - يمكن تفعيل/تعطيل نظام الأزرار والإمبيد لجميع البوتات.

2. **تغيير منصة جميع البوتات**:
   - يمكن تغيير منصة التشغيل لجميع البوتات دفعة واحدة.

3. **إيقاف جميع البوتات**:
   - يمكن إيقاف جميع البوتات دفعة واحدة.

## أوامر إدارة البوتات

يوفر النظام أمر `bots` للتحكم في البوتات المتعددة:

1. **عرض قائمة البوتات**:
   ```
   !bots list
   ```

2. **إضافة بوت جديد**:
   ```
   !bots add <توكن البوت> [البادئة] [المنصة]
   ```

3. **إزالة بوت**:
   ```
   !bots remove <توكن البوت/رقم البوت>
   ```

4. **عرض معلومات بوت**:
   ```
   !bots info [توكن البوت/رقم البوت]
   ```

5. **عرض معلومات البوت النشط**:
   ```
   !bots active
   ```

6. **تبديل البوت النشط**:
   ```
   !bots switch <توكن البوت/رقم البوت>
   ```

7. **تشغيل بوت**:
   ```
   !bots start <توكن البوت> [البادئة] [المنصة]
   ```

8. **إيقاف بوت أو جميع البوتات**:
   ```
   !bots stop <توكن البوت/رقم البوت>
   !bots stop all
   ```

## ربط نظام البوتات المتعددة بنظام الاشتراكات

يرتبط نظام البوتات المتعددة بنظام الاشتراكات:

1. **حدود البوتات**:
   - يحدد نوع الاشتراك عدد البوتات المسموح بها للمستخدم.
   - الخطة الأساسية: بوت واحد.
   - الخطة المتميزة: 3 بوتات.
   - الخطة الاحترافية: 10 بوتات.

2. **إدارة البوتات حسب الاشتراك**:
   - يمكن للمستخدم إضافة بوتات حتى الحد المسموح به في اشتراكه.
   - يمكن للمستخدم إزالة أو تبديل البوتات في أي وقت.

3. **ميزات البوتات حسب الاشتراك**:
   - الخطة الأساسية: دعم يوتيوب وساوندكلاود فقط.
   - الخطة المتميزة: دعم يوتيوب وساوندكلاود وسبوتيفاي.
   - الخطة الاحترافية: دعم جميع المنصات مع إمكانية تخصيص الاسم والصورة.

## مثال على استخدام نظام البوتات المتعددة

### سيناريو 1: إدارة بوتات متعددة في سيرفرات مختلفة

1. المستخدم لديه اشتراك متميز يسمح بـ 3 بوتات.
2. يقوم بإنشاء 3 بوتات مختلفة:
   ```
   !bots add <توكن البوت1> ! youtube
   !bots add <توكن البوت2> ? soundcloud
   !bots add <توكن البوت3> $ spotify
   ```
3. يقوم بتخصيص كل بوت:
   ```
   !bots switch 1
   !setname ميوزك بوت 1
   !bots switch 2
   !setname ميوزك بوت 2
   !bots switch 3
   !setname ميوزك بوت 3
   ```
4. يقوم بدعوة كل بوت إلى سيرفر مختلف:
   ```
   !invite <توكن البوت1>
   !invite <توكن البوت2>
   !invite <توكن البوت3>
   ```

### سيناريو 2: تغيير منصة جميع البوتات

1. المستخدم يواجه مشكلة مع منصة يوتيوب.
2. يقوم بتغيير منصة جميع البوتات إلى ساوندكلاود:
   ```
   !platform soundcloud all
   ```

### سيناريو 3: تحديث إعدادات جميع البوتات

1. المستخدم يريد تفعيل نظام الأزرار لجميع البوتات:
   ```
   !togglebuttons on all
   ```

## الخلاصة

نظام البوتات المتعددة يوفر مرونة كبيرة في إدارة بوتات الميوزك، مما يتيح للمستخدمين:

1. تشغيل عدة بوتات في نفس الوقت.
2. تخصيص كل بوت بشكل مستقل.
3. إدارة جميع البوتات من خلال واجهة موحدة.
4. تنفيذ عمليات على جميع البوتات دفعة واحدة.
5. ربط البوتات بنظام الاشتراكات.

هذا النظام يجعل إدارة بوتات الميوزك أكثر كفاءة ومرونة، خاصة للمستخدمين الذين يديرون عدة سيرفرات أو يحتاجون إلى بوتات مخصصة لأغراض مختلفة.
